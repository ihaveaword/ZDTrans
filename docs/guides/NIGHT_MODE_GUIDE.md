# 🌙 夜色模式使用指南

## 简介

ZDTrans 现已支持日间/夜间双主题模式，让您在不同光线环境下都能舒适使用。夜间模式采用深色背景，有效减少蓝光，保护眼睛，特别适合长时间工作或夜间使用。

## 功能特点

### 🎨 完整的主题系统
- **日间模式**：明亮清爽，适合白天使用
- **夜间模式**：深色护眼，适合夜晚或暗光环境

### 🔄 实时同步
- 主题切换后，所有窗口立即更新
- 主窗口、弹出窗口、设置对话框保持一致

### 💾 自动保存
- 主题偏好自动保存到配置文件
- 下次启动自动加载您的选择

## 使用方法

### 方法 1：主窗口快速切换 ⚡️

这是最快捷的方式！

1. 打开 ZDTrans 主窗口
2. 在窗口左下角找到主题切换按钮
   - 🌙 = 当前是日间模式，点击切换到夜间模式
   - ☀️ = 当前是夜间模式，点击切换到日间模式
3. 点击按钮，主题立即切换

![主题切换按钮位置](../resources/screenshots/theme_button.png)

### 方法 2：在设置中选择 ⚙️

适合永久性设置主题偏好

1. 点击系统托盘图标，选择"设置"
   - 或在主窗口点击"设置"按钮
2. 找到"界面配置"选项组
3. 在"主题"下拉框中选择：
   - **日间模式** - 明亮主题
   - **夜间模式** - 深色主题
4. 选择后立即预览效果
5. 点击"保存"按钮保存设置

### 方法 3：编辑配置文件 📝

适合高级用户或批量部署

1. 打开 `config.json` 文件
2. 找到 `ui` 配置项
3. 修改 `theme` 的值：
   ```json
   {
     "ui": {
       "theme": "dark"  // "light" 为日间模式，"dark" 为夜间模式
     }
   }
   ```
4. 保存文件
5. 重启 ZDTrans 应用主题

## 主题对比

### 日间模式（Light）

**适用场景**：
- ☀️ 白天办公
- 💡 明亮环境
- 📱 户外使用

**视觉特点**：
- 背景：浅灰色 (#f5f5f5)
- 文字：深色 (#000000)
- 组件：白色背景
- 对比度：高对比，清晰易读

### 夜间模式（Dark）

**适用场景**：
- 🌙 夜间工作
- 🛌 睡前阅读
- 💻 暗光环境
- 👁️ 长时间使用

**视觉特点**：
- 背景：深灰色 (#1e1e1e)
- 文字：浅色 (#e0e0e0)
- 组件：中灰色背景
- 对比度：柔和护眼

**健康优势**：
- ✅ 减少蓝光刺激
- ✅ 降低眼睛疲劳
- ✅ 提高夜间使用舒适度
- ✅ 保护视力健康

## 常见问题

### Q1: 主题会影响翻译功能吗？
**A**: 不会。主题只改变界面颜色，不影响任何翻译功能。

### Q2: 切换主题后需要重启吗？
**A**: 不需要。主题切换是实时的，所有窗口立即更新。

### Q3: 我的主题设置会丢失吗？
**A**: 不会。主题偏好会自动保存到 `config.json`，下次启动自动加载。

### Q4: 可以自定义主题颜色吗？
**A**: 当前版本提供两种预设主题。自定义主题功能计划在未来版本推出。

### Q5: 弹出窗口也会切换主题吗？
**A**: 是的。所有窗口（主窗口、弹出窗口、设置窗口）都会同步切换。

### Q6: 如何恢复默认主题？
**A**: 默认是日间模式。您可以：
- 在主窗口点击主题按钮切换回日间模式
- 或编辑 `config.json`，设置 `"theme": "light"`

## 快捷操作

### 场景 1：白天切换到夜间工作
```
1. 点击主窗口 🌙 按钮
2. 继续工作
```

### 场景 2：永久使用夜间模式
```
1. 打开设置
2. 界面配置 → 主题 → 夜间模式
3. 保存
4. 以后每次启动都是夜间模式
```

### 场景 3：快速测试两种主题
```
1. 打开主窗口
2. 多次点击 🌙/☀️ 按钮
3. 观察主题切换效果
```

## 技术说明

### 实现原理
- 使用 Qt 的样式表系统 (QSS)
- 基于信号槽机制实现实时更新
- 单例模式的主题管理器统一管理

### 兼容性
- ✅ Windows 10/11
- ✅ macOS 10.14+
- ✅ Linux (X11)
- ✅ 所有现有功能完全兼容

### 性能影响
- 主题切换延迟：< 100ms
- 内存占用增加：< 1MB
- CPU 占用：几乎无影响

## 反馈与建议

如果您有任何关于主题功能的建议或遇到问题，欢迎：

- 提交 Issue：[GitHub Issues](https://github.com/yourusername/ZDTrans/issues)
- 功能建议：希望添加什么主题？
- 使用反馈：主题是否舒适？

## 相关文档

- [主窗口使用指南](MAIN_WINDOW_GUIDE.md)
- [配置文件说明](../config.json.example)
- [主题更新日志](../CHANGELOG_THEME.md)

---

**最后更新**: 2025-10-31
**版本**: v1.1.0

享受护眼的翻译体验！🌙✨
