# 🎉 主窗口界面使用指南

## ✨ 新功能：主窗口界面

现在 ZDTrans 有了一个可视化的主窗口界面！即使托盘图标有问题，也能正常使用所有功能。

## 🚀 启动程序

### 方法 1：使用启动脚本（推荐）

```bash
./start.sh
```

### 方法 2：手动启动

```bash
source .venv/bin/activate
python main.py
```

## 📱 主窗口功能

启动后会自动打开主窗口，包含以下功能：

### 1️⃣ 运行状态显示
- ✅ 实时显示程序状态
- 📈 显示已翻译次数统计
- 🔄 自动更新状态信息

### 2️⃣ 快捷键提示
- 🔄 显示当前翻译快捷键
- ✨ 显示当前润色快捷键
- 💡 使用提示说明

### 3️⃣ 最近翻译结果
- 📝 显示最近3条翻译结果
- 🔍 可查看历史翻译
- 📋 方便复制结果

### 4️⃣ 快捷操作按钮
- ⚙️ **设置** - 打开设置界面
- ➖ **最小化到托盘** - 隐藏主窗口

## 💡 使用方法

### 打开主窗口

有三种方式：

1. **程序启动时**
   - 自动显示主窗口

2. **从托盘打开**（如果托盘图标可见）
   - 左键/右键点击托盘图标
   - 选择"📱 显示主窗口"

3. **从快捷键**
   - 计划中：添加全局快捷键显示主窗口

### 最小化窗口

- 点击"➖ 最小化到托盘"按钮
- 或直接关闭窗口（不会退出程序）

### 完全退出程序

- 点击托盘图标 → "🚪 退出"
- 或使用任务管理器结束进程

## 🎯 典型使用流程

### 流程 1：配置并开始使用

```
1. 启动程序 → 主窗口自动打开
2. 点击"⚙️ 设置" → 配置 API Key 和关键词
3. 点击"保存" → 配置生效
4. 点击"➖ 最小化到托盘" → 隐藏窗口
5. 在任何应用中选中文字 → 按 Ctrl+Q
6. 翻译结果弹出 + 主窗口记录（如果打开的话）
```

### 流程 2：查看翻译历史

```
1. 打开主窗口（如果已最小化）
2. 查看"📝 最近翻译"区域
3. 可看到最近3条翻译结果
4. 可以复制结果文本
```

### 流程 3：切换领域

```
1. 打开主窗口
2. 点击"⚙️ 设置"
3. 修改"关键词"（如：物理学 → 计算机）
4. 点击"保存"
5. 主窗口显示"设置已保存"
6. 继续使用新配置翻译
```

## 🎨 界面预览

```
┌─────────────────────────────────────┐
│      🎯 ZDTrans 翻译助手           │
│   全局快捷键翻译 · 专业术语优化     │
├─────────────────────────────────────┤
│ 📊 运行状态                         │
│ ✅ 程序运行中，等待快捷键触发...    │
│ 📈 已翻译: 5 次                     │
├─────────────────────────────────────┤
│ ⌨️ 快捷键                           │
│ 🔄 翻译: Ctrl+Q                     │
│ ✨ 润色: Ctrl+Shift+Q               │
│ 💡 在任何应用中选中文字，按快捷键   │
├─────────────────────────────────────┤
│ 📝 最近翻译                         │
│ [翻译]                              │
│ 该模型在大型语料库上使用...         │
│                                     │
│ [润色]                              │
│ 本文详细介绍了...                   │
├─────────────────────────────────────┤
│  ⚙️ 设置   │  ➖ 最小化到托盘      │
├─────────────────────────────────────┤
│ 💡 提示: 关闭此窗口不会退出程序     │
└─────────────────────────────────────┘
```

## 🔧 窗口管理

### 窗口状态

- **显示**：窗口在最前方
- **最小化**：隐藏到托盘
- **后台**：程序继续运行，快捷键仍然工作

### 窗口行为

- ✅ 关闭窗口 = 最小化（不退出）
- ✅ 最小化后可随时恢复
- ✅ 托盘图标始终保持

## 💻 与托盘图标的关系

### 主窗口 vs 托盘图标

| 功能 | 主窗口 | 托盘图标 |
|------|--------|----------|
| 查看状态 | ✅ | ❌ |
| 查看翻译历史 | ✅ | ❌ |
| 打开设置 | ✅ | ✅ |
| 最小化程序 | ✅ | - |
| 退出程序 | ❌ | ✅ |
| 始终可见 | ⚠️ 可关闭 | ✅ |

### 推荐使用方式

1. **首次配置**：使用主窗口配置
2. **日常使用**：最小化主窗口，使用快捷键
3. **查看结果**：打开主窗口查看历史
4. **调整设置**：主窗口或托盘都可以

## 🎁 额外功能

### 实时反馈

- 每次翻译后，主窗口会显示结果
- 统计数字实时更新
- 状态栏显示操作提示

### 错误提示

- API 错误会在主窗口显示
- 红色❌标识，5秒后自动恢复
- 便于排查问题

## 🚀 下一步

现在就试试吧！

```bash
# 启动程序
./start.sh

# 或手动启动
source .venv/bin/activate
python main.py
```

主窗口会自动打开，享受全新的使用体验！🎉
